{"version":3,"sources":["../../src/useJitsi.js","../../src/index.js","App.js","index.js"],"names":["useJitsi","options","domain","useState","jitsi","setJitsi","window","document","JitsiMeetExternalAPI","error","PropTypes","object","string","Jutsu","props","roomName","displayName","password","jwt","subject","loadingComponent","containerStyles","jitsiContainerStyles","onMeetingEnd","loading","setLoading","parentNode","jitsiContainerStyle","style","App","room","setRoom","name","setName","call","setCall","setPassword","href","console","log","id","type","placeholder","value","onChange","e","target","onClick","event","preventDefault","role","aria-label","ReactDOM","render","getElementById"],"mappings":"swBAGMA,EAAW,SAACC,G,IAASC,EAA2B,uDAAlB,c,EACRC,mBAD0B,M,SAC7CC,EAD6C,KACtCC,EADsC,K,4BAG1C,W,OACJC,OAAJ,sB,EACE,WAAqBC,SAASA,eAAeN,EAA7C,Y,EAES,IAAIO,qBAAqBN,EAAlC,K,EAES,CAAEO,MAAX,mGAEK,W,OAAML,GAASA,EAAf,aART,IAWA,GAGFJ,YAAqB,C,QACV,UAAgB,C,SACbU,WADa,W,MAEhBA,IAFgB,O,OAGfA,IAHe,O,WAIXA,IAJW,O,gBAKNA,IALM,O,yBAMGA,IANH,O,MAOhBA,IAPgB,K,IAQlBA,IARkB,O,OASfA,IATe,K,SAUbA,IAVa,M,QAWdA,IAXc,O,SAYbA,IAAUC,S,OAEdD,IAAUE,Q,IC9BdC,EAAQ,SAACC,G,IACLZ,EAAiEY,EADlD,OACPC,EAAyDD,EADlD,SACGE,EAA+CF,EADlD,YACgBG,EAAkCH,EADlD,S,EACkDA,EADlD,IAC0BI,OAD1B,aACsCC,EAAYL,EADlD,QAEfM,EAA0EN,EAF3D,iBAEGO,EAAwDP,EAF3D,gBAEoBQ,EAAuCR,EAF3D,qBAE0CS,EAAiBT,EAF3D,a,EAIOX,oBAJP,G,SAIhBqB,EAJgB,KAIPC,EAJO,KAKjBrB,EAAQJ,EAAS,CAAEe,SAAF,EAAYW,WAAZ,kBAA2CR,IAApDlB,GAAd,GAOM2B,EAAsB,C,QACjBH,EAAUA,OADO,Q,MAAA,O,OAGlB,Q,4BAGA,W,OACR,I,GACE,G,EACA,4B,EAEA,0CAAgD,WAC9C,GAAcpB,EAAMA,eAAeA,WAAYA,G,EAC/C,mC,EAGF,qCAA2C,WACzC,G,EACE,gCAGJ,GAAkBA,EAAMA,iBAAiBA,eAAgBA,IAGpD,W,OAAMA,GAASA,EAAf,aACN,CAnBH,IAsBE,kB,OAAKwB,MAAA,KAjCgB,C,MAAA,Q,OAEb,SA+BR,I,IACeR,GAAoB,kB,qDACjC,kB,WAEE,SAMRP,YAAkB,C,IACXH,IADW,O,OAERA,IAFQ,O,QAGPA,IAHO,O,SAINA,IAJM,O,SAKNA,WALM,W,YAMHA,IANG,O,aAOFA,IAPE,K,iBAQEA,IARF,O,gBASCA,IATD,O,qBAUMA,IAAUC,QC7DlC,IAqCekB,EArCH,WAAO,IAAD,EACQ1B,mBAAS,IADjB,mBACT2B,EADS,KACHC,EADG,OAEQ5B,mBAAS,IAFjB,mBAET6B,EAFS,KAEHC,EAFG,OAGQ9B,oBAAS,GAHjB,mBAGT+B,EAHS,KAGHC,EAHG,OAIgBhC,mBAAS,IAJzB,mBAITc,EAJS,KAICmB,EAJD,KAWhB,OACE,6BACE,gDACA,gDAAqB,uBAAGC,KAAK,sCAAR,UAArB,wBAAiG,uBAAGA,KAAK,8DAAR,cAAjG,2BACCH,EAAQ,kBAAC,EAAD,CACPnB,SAAUe,EACVb,SAAUA,EACVD,YAAagB,EACbT,aAAc,kBAAMe,QAAQC,IAAI,sBAChCnB,iBAAkB,qFAEhB,8BACE,2BAAOoB,GAAG,OAAOC,KAAK,OAAOC,YAAY,OAAOC,MAAOb,EAAMc,SAAU,SAACC,GAAD,OAAOd,EAAQc,EAAEC,OAAOH,UAC/F,2BAAOH,GAAG,OAAOC,KAAK,OAAOC,YAAY,OAAOC,MAAOX,EAAMY,SAAU,SAACC,GAAD,OAAOZ,EAAQY,EAAEC,OAAOH,UAC/F,2BAAOH,GAAG,WAAWC,KAAK,OAAOC,YAAY,sBAAsBC,MAAO1B,EAAU2B,SAAU,SAACC,GAAD,OAAOT,EAAYS,EAAEC,OAAOH,UAC1H,4BAAQI,QApBE,SAAAC,GAClBA,EAAMC,iBACFnB,GAAQE,GAAMG,GAAQ,IAkBYM,KAAK,UAAnC,iBAKN,wCAAa,0BAAMS,KAAK,MAAMC,aAAW,UAA5B,UAAb,OAA8D,uBAAGd,KAAK,gCAAR,qBAC9D,+BAAO,sFAA2D,uBAAGA,KAAK,iDAAR,WAA3D,4BC9Bbe,IAASC,OAAO,kBAAC,EAAD,MAAS9C,SAAS+C,eAAe,U","file":"static/js/main.90e34ff9.chunk.js","sourcesContent":["import { useState, useEffect } from 'react'\nimport PropTypes from 'prop-types'\n\nconst useJitsi = (options, domain = 'meet.jit.si') => {\n  const [jitsi, setJitsi] = useState(null)\n\n  useEffect(() => {\n    if (window.JitsiMeetExternalAPI) {\n      options.parentNode = document.getElementById(options.parentNode)\n      // eslint-disable-next-line no-undef\n      setJitsi(new JitsiMeetExternalAPI(domain, options))\n    } else {\n      setJitsi({ error: 'JitsiMeetExternalAPI is not available, check if https://meet.jit.si/external_api.js was loaded' })\n    }\n    return () => jitsi && jitsi.dispose()\n  }, [])\n\n  return jitsi\n}\n\nuseJitsi.propTypes = {\n  options: PropTypes.shape({\n    roomName: PropTypes.string.isRequired,\n    width: PropTypes.string,\n    height: PropTypes.string,\n    parentNode: PropTypes.string,\n    configOverwrite: PropTypes.string,\n    interfaceConfigOverwrite: PropTypes.object,\n    noSSL: PropTypes.bool,\n    jwt: PropTypes.string,\n    onload: PropTypes.func,\n    invitees: PropTypes.array,\n    devices: PropTypes.object,\n    userInfo: PropTypes.object\n  }),\n  domain: PropTypes.string\n}\n\nexport default useJitsi\n","import React, { useState, useEffect } from 'react'\nimport PropTypes from 'prop-types'\n\nimport useJitsi from './useJitsi'\n\nconst Jutsu = (props) => {\n  const { domain, roomName, displayName, password, jwt = null, subject } = props\n  const { loadingComponent, containerStyles, jitsiContainerStyles, onMeetingEnd } = props\n\n  const [loading, setLoading] = useState(true)\n  const jitsi = useJitsi({ roomName, parentNode: 'jitsi-container', jwt: jwt }, domain)\n\n  const containerStyle = {\n    width: '800px',\n    height: '400px'\n  }\n\n  const jitsiContainerStyle = {\n    display: loading ? 'none' : 'block',\n    width: '100%',\n    height: '100%'\n  }\n\n  useEffect(() => {\n    if (jitsi) {\n      setLoading(false)\n      jitsi.executeCommand('subject', subject)\n\n      jitsi.addEventListener('videoConferenceJoined', () => {\n        if (password) jitsi.executeCommand('password', password)\n        jitsi.executeCommand('displayName', displayName)\n      })\n\n      jitsi.addEventListener('passwordRequired', () => {\n        if (password) {\n          jitsi.executeCommand('password', password)\n        }\n      })\n      if (onMeetingEnd) jitsi.addEventListener('readyToClose', onMeetingEnd)\n    }\n\n    return () => jitsi && jitsi.dispose()\n  }, [jitsi])\n\n  return (\n    <div style={{ ...containerStyle, ...containerStyles }}>\n      {loading && (loadingComponent || <p>Loading ...</p>)}\n      <div\n        id='jitsi-container'\n        style={{ ...jitsiContainerStyle, ...jitsiContainerStyles }}\n      />\n    </div>\n  )\n}\n\nJutsu.propTypes = {\n  jwt: PropTypes.string,\n  domain: PropTypes.string,\n  subject: PropTypes.string,\n  password: PropTypes.string,\n  roomName: PropTypes.string.isRequired,\n  displayName: PropTypes.string,\n  onMeetingEnd: PropTypes.func,\n  loadingComponent: PropTypes.object,\n  containerStyles: PropTypes.object,\n  jitsiContainerStyles: PropTypes.object\n}\n\nexport { Jutsu, useJitsi }\n","import React, { useState } from 'react'\n\nimport { Jutsu } from 'react-jutsu'\n\nconst App = () => {\n  const [room, setRoom] = useState('')\n  const [name, setName] = useState('')\n  const [call, setCall] = useState(false)\n  const [password, setPassword] = useState('')\n\n  const handleClick = event => {\n    event.preventDefault()\n    if (room && name) setCall(true)\n  }\n\n  return (\n    <div>\n      <h2>&lt;Jutsu /&gt; Demo !</h2>\n      <blockquote>View the <a href='https://github.com/this-fifo/jutsu'>source</a> for Jutsu and check <a href='https://github.com/jitsi/jitsi-meet/blob/master/doc/api.md'>jitsi-meet</a> for the Jitsi Meet API</blockquote>\n      {call ? (<Jutsu\n        roomName={room}\n        password={password}\n        displayName={name}\n        onMeetingEnd={() => console.log('Meeting has ended')}\n        loadingComponent={<p>ʕ •ᴥ•ʔ jitsi is loading ...</p>} />)\n        : (\n          <form>\n            <input id='room' type='text' placeholder='Room' value={room} onChange={(e) => setRoom(e.target.value)} />\n            <input id='name' type='text' placeholder='Name' value={name} onChange={(e) => setName(e.target.value)} />\n            <input id='password' type='text' placeholder='Password (optional)' value={password} onChange={(e) => setPassword(e.target.value)} />\n            <button onClick={handleClick} type='submit'>\n              Start / Join\n            </button>\n          </form>\n        )}\n      <p>Made with <span role='img' aria-label='coffee'>☕</span> by <a href='https://github.com/this-fifo'>Filipe Herculano</a></p>\n      <small><i>Note: works only on a desktop browser for now, checkout <a href='https://github.com/jitsi/jitsi-meet/pull/3518'>this PR</a> for more information</i></small>\n    </div>\n  )\n}\n\nexport default App\n","import React from 'react'\nimport ReactDOM from 'react-dom'\n\nimport './index.css'\nimport App from './App'\n\nReactDOM.render(<App />, document.getElementById('root'))\n"],"sourceRoot":""}